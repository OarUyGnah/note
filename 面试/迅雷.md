## 一面

1. 一个进程fork一个子进程，父进程将socket 关闭，请问子进程还能用这个socket吗？

   父进程关闭了socket后，子进程仍然可以使用这个socket。当父进程fork出子进程时，子进程会继承父进程的文件描述符表，包括socket的文件描述符。所以子进程可以继续使用父进程关闭之前打开的socket。

2. connect() accept()分别是tcp三次握手的那一次？一 二

3. 服务端进行write(data)，加入客户端已经失去连接，请问write(data)会返回什么？

   在C++中，如果使用标准库中的套接字（socket）进行网络编程，当服务端进行write(data)操作时，如果客户端已经失去连接，会触发SIGPIPE信号，并且默认行为是终止程序。为了避免程序终止，可以通过忽略SIGPIPE信号或者使用SO_NOSIGPIPE选项来处理这种情况。具体的返回值可能是-1，并且可以通过errno来获取错误码。

4. 函数重载原理

5. 编译通过吗

   ```cc
   void func(int*ptr) {
       printf("int*ptr\n");
   }
   void func(const int*ptr) {
       printf("const int*ptr\n");
   }
   void func(int*const ptr) { // 和int*冲突
       printf("int*const ptr\n");
   }
   ```

6. 拥塞控制

   慢回复 拥塞避免  快恢复快重传

7. 内存分区

8. dns使用的是TCP还是UDP？UDP

   DNS（Domain Name System）使用的是**UDP**（User Datagram Protocol）作为默认的传输协议。大部分DNS查询都使用UDP进行传输，因为UDP是一种无连接的、轻量级的传输协议，适用于短小的请求和响应。UDP的无连接特性使得它在传输速度上比TCP更快，适用于实时性要求较高的DNS查询。

   然而，对于一些特殊情况，例如DNS响应数据包过大（超过UDP报文的最大长度限制）或者需要保证数据的可靠性时，DNS也可以使用TCP进行传输。在这种情况下，DNS查询会通过TCP连接进行传输，确保数据的完整性和可靠性。

9. 虚拟内存，一台主机4g内存，申请了8g虚拟内存

   当物理内存不足以满足系统和应用程序的需求时，操作系统会将部分物理内存中不活动的数据页（通常是程序或数据）移到磁盘上的虚拟内存中。这个过程被称为内存交换。这样，系统可以为新的数据提供足够的物理内存空间。

   

   

   

   

   

